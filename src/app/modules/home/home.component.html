<section>
  <c-hero variant="large" image="mainHero">
    <h2
      class="blurred-background hero__title font-heading-2 color-white text-center margin-bottom-2">
      Find, share and most importantly, drink.
    </h2>
    <c-button
      *ngIf="isAuthorized$ | async"
      routerLink="create-cocktail"
      translation="createNewCocktail"
      color="primary">
      <mat-icon>add</mat-icon>
    </c-button>
  </c-hero>
  <section class="flex--center flex--column pa">
    <c-filters-form (formSubmit)="handleFilter($event)"></c-filters-form>
    <div class='padding-4-2'>
      <ng-container *ngIf="!(isLoading$ | async); else loader">
        <ng-container *ngIf="cocktails$ | async as cocktails">
          <div
            *ngIf="cocktails.length > 0; else emptyCocktails"
            class="home__cocktails grid grid--center padding-4">
            <c-cocktail-card
              *ngFor="let cocktail of cocktails"
              [cocktail]="cocktail"></c-cocktail-card>
          </div>

        </ng-container>
      </ng-container>

      <ng-template #emptyCocktails>
        <p class="width-full text-center">We haven't found any cocktails.</p>
      </ng-template>

      <ng-template #loader>
        <div class="width-full flex flex--center">
          <mat-spinner diameter="50"></mat-spinner>
        </div>

      </ng-template>
    </div>

    <ng-container *ngIf='pageMeta$ | async as pageMeta'>
      <mat-paginator
        [hidePageSize]=true
        [length]="pageMeta.itemCount"
        [pageSize]="10"
        [pageIndex]="pageMeta.page - 1"
        (page)="handlePageChange($event)"
      >
      </mat-paginator>
    </ng-container>
  </section>
</section>
